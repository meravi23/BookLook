<div>
    <book-navbar></book-navbar>
    <div class="container my-3">
        <div class="row">
            <div class="col-md-2">
                <div>
                    <h6>חיפוש לפי קטגוריות</h6>
                    <div id="accordion">
                        <div class="card">
                            <ul class="card-header category">
                                <li><a class="card-link" data-toggle="collapse" href="#collapseOne" ng-repeat="category in categories" ng-click="searchByCategory(category)">
                                        {{category}}
                                    </a></li>
                                <div id="collapseOne" class="collapse" data-parent="#accordion">
                                    <ul class="card-body sub-cat">
                                        <li><a class="card-link" data-toggle="collapse" href="#collapseOne" ng-repeat="subcat in categories">
                                                {{subcat.subCategories}} </a></li>
                                        </li>
                                    </ul>
                                </div>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                <div class="row my-3">
                    <div class="col-md-4">
                        <form>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label for="search1">חיפוש לפי:</label>
                                    </div>
                                    <div class="col-md-9">
                                        <select class="form-control" id="search1" name="search-options" ng-model="fieldToSearch">
                                            <option value="title">שם כותר</option>
                                            <option value="author">שם מחבר</option>
                                            <option value="isbn">ISBN</option>
                                            <option value="publisher">הוצאה לאור</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-8">
                        <form ng-submit="searchBook()">
                            <div class="input-group md-form form-sm form-2 pl-0">
                                <input ng-model="userSearchInput" class="form-control my-0 py-1 amber-border home-search" type="text" placeholder="חיפוש ספר, מחבר, isbn ,הוצאה לאור" aria-label="Search">
                                <i class="fas fa-search"></i>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div>
                            <button type="button" class="btn btn-danger btn-block" ng-click="clearFields()">ניקוי</button>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <form>
                            <div class="custom-control custom-checkbox">
                                <h6>חנויות לחיפוש:</h6>
                                <div class="shop-checkbox">
                                    <input type="checkbox" id="shop0" name="shops" checked>
                                    <label for="shop0">כל החנויות</label>
                                </div>
                                <div class="shop-checkbox" ng-repeat="shop in sellers">
                                    <input type="checkbox" id="shop{{shop.id}}" name="shops">
                                    <label for="shop{{shop.id}}">{{shop.name}}</label>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-md-3">
                        <button type="button" class="btn btn-info btn-block" ng-click="searchBook()">חיפוש</button>
                    </div>
                </div>
            </div>
        </div>

        <div ng-show="searchResults.length > 0" class="my-3">
            <h3>תוצאות חיפוש</h3>
            <div class="row row-of-cards">
                <div class="card preview flex-md-fill ml-1" ng-repeat="item in searchResults" ng-click="book4SaleModal(item)">
                    <div ng-include="'app/home/modalBook4sale.html'"></div>
                    <div class="card-body" data-toggle="modal" data-target="#book4sale">
                        <h5 class="card-title">{{item.title}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted"><span>מאת: </span>{{item.author}}</h6>
                        <a href="#" class="card-link"><span>חנות: </span>{{item.seller}}</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="my-3 search-results" ng-show="searchResults.length===0 && noResults">
            <h3>לא נמצאו תוצאות. באפשרותך להוסיף מודעת חיפוש לספר המבוקש</h3>
        </div>
        <div class="my-3" ng-show="noResults">
            <button type="button" class="btn btn-info btn-block" data-toggle="modal" data-target="#modelBookPost">הוספת
                מודעת חיפוש</button>
        </div>
        <div ng-include="'newSearchBookPost.html'"></div>


        <div ng-show="searchResults.length === 0" class="my-3">
            <div>
                <h3 class="my-3 title-color">ספרים שנוספו לאחרונה</h3>
            </div>
            <div class="row row-of-cards">
                <div class="card preview flex-md-fill ml-1 ng-class-even='bcgr-yellow'" ng-repeat="book in books | limitTo:5" ng-click="book4SaleModal(book)" data-toggle="modal" data-target="#book4sale">
                    <div ng-include="'app/home/modalBook4sale.html'"></div>
                    <div class="card-body">
                        <h5 class="card-title">{{book.title}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted"><span>מאת: </span>{{book.author}}</h6>
                        <a href="#" class="card-link"><span>חנות: </span>{{getSellerName(book.sellerId)}}</a>
                    </div>
                </div>
            </div>
        </div>

        <div ng-show="searchResults.length === 0" class="my-3">
            <div>
                <h3 class="my-3"><a href="#!/board">ספרים שקוראים מחפשים</a></h3>
            </div>
            <div class="row row-of-cards">
                <div class="card preview flex-md-fill ml-1" ng-repeat="post in bookPosts" ng-click="bookPostingModal(post)" data-toggle="modal" data-target="#modelPostFulfilled">
                    <div ng-include="'app/searchBoard/bookPost.html'"></div>
                    <div class="card-body">
                        <h5 class="card-title">{{post.title}}</h5>
                        <h6 class="card-subtitle mb-2 text-muted"><span>מאת: </span>{{post.author}}</h6>
                        <a href="#" class="card-link"><span>יצירת קשר עם המחפש</span>{{post.seller}}</a>
                    </div>
                </div>
            </div>
        </div>

    </div>